<div class="glass-card"> <h2>Add Service Credentials</h2> 
    <div class="form-group"> 
        <label>Select Service:</label> 
        <select [(ngModel)]="selectedService" (change)="onServiceChange()" name="service">
             <option value="" disabled selected>Select service</option> 
            <option value="jellyfin">Jellyfin</option> 
            <option value="nextcloud">Nextcloud</option> 
            <option value="radarr">Radarr</option>
             <option value="sonarr">Sonarr</option> 
            </select> 
            </div> 
            <form (ngSubmit)="onSubmit()" #credentialsForm="ngForm" *ngIf="selectedService"> 
                <div class="form-group"> <label>Username:</label> 
                    <input type="text" [(ngModel)]="credentials.username" name="username" required /> </div>

<div class="form-group" *ngIf="serviceRequiresEmail(selectedService)">
  <label>Email:</label>
  <input type="email" [(ngModel)]="credentials.email" name="email" />
</div>

<div class="form-group">
  <label>Password:</label>
  <input type="password" [(ngModel)]="credentials.password" name="password" required />
</div>

<div class="form-group">
  <label>Assign to Username:</label>
  <input type="text" [(ngModel)]="credentials.targetUser" name="targetUser" required />
</div>

<button type="submit" [disabled]="!credentialsForm.form.valid">Save Credentials</button>

</form> </div>